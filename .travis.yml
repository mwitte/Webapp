language: node_js
node_js:
  - "0.10"
branches:
    only:
        - "master"
env:
    global:
        # GH_TOKEN is the oauth token generated as described at
        # https://help.github.com/articles/creating-an-oauth-token-for-command-line-use
        #
        # curl -u 'username' -d '{"scopes":["repo"],"note":"push to <%= destinationBranch %> from travis"}' https://api.github.com/authorizations
        #
        # You have to encrypt it with travis gem
        # http://about.travis-ci.org/docs/user/build-configuration/#Secure-environment-variables
        #
        # travis encrypt GH_TOKEN=XYXYXYXYXY
        #
        - secure: "n8VDW9DO6pxFzDn6vkQw43kL2ErLC0yYAO23OjOGt3PpWp0KiMhEJckPd1ck2QZ83CbELf/qosqUwFA9jSyKTXWH6Mv/9NE/LDLlMjGyN4bOBgZUPWFhsdUJ0GVCKtinlfBVfhXJ31lw6ilB46aBLLblY2vyE8W9qHUgt+NOvGc="
before_install:
  - "gem install compass"
  - "npm install"
  - "npm install -g grunt-cli bower"
install:
  - "bower install"
script:
  - "grunt"
after_success: ./utils/publishBuild.sh